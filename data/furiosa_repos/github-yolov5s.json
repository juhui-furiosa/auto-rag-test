{
  "name": "yolov5s",
  "url": "https://github.com/furiosa-ai/yolov5s",
  "visibility": "public",
  "readme": {
    "title": "Yolov5s with Furiosa-SDK",
    "sections": [
      {
        "heading": "Yolov5s with Furiosa-SDK",
        "text": "This repository gives an example of optimally compiling and running a YOLOv5s model using the options provided by the\nFuriosa SDK\n.",
        "children": [
          {
            "heading": "Setup",
            "text": "",
            "children": [
              {
                "heading": "Setup Environment",
                "text": "git clone git@github.com:furiosa-ai/yolov5s.git\ncd\nyolov5s\nconda create -n demo python=3.9\nconda activate demo\npip install -r requirements.txt\nif you want to use yolov5s provided by\nopenmmlab\n, please install additional packages as [installation] (\nhttps://github.com/open-mmlab/mmyolo/tree/main#%EF%B8%8F-installation-\n). Then, download mmyolo and weights file as bellow.\nmim install mmyolo\nwget -P ./datas https://download.openmmlab.com/mmyolo/v0/yolov5/yolov5_s-v61_syncbn_fast_8xb16-300e_coco/yolov5_s-v61_syncbn_fast_8xb16-300e_coco_20220918_084700-86e02187.pth",
                "children": []
              },
              {
                "heading": "Calibration and Evaluation Dataset",
                "text": "Download COCO dataset from\nhere\nor prepare own dataset for calibration",
                "children": [
                  {
                    "heading": "Example",
                    "text": "wget http://images.cocodataset.org/zips/val2017.zip \nunzip val2017.zip -d ./coco/",
                    "children": []
                  }
                ]
              }
            ]
          },
          {
            "heading": "Export ONNX",
            "text": "Convert torch model to onnx model.",
            "children": [
              {
                "heading": "Example for ultralytics",
                "text": "python onnx_export.py --onnx_path=./yolov5s.onnx --model_repo=ultralytics --opset_version=13 --model_input_name=images --model_output_name=outputs",
                "children": []
              },
              {
                "heading": "Example for openmmlab",
                "text": "python onnx_export.py --onnx_path=./yolov5s.onnx --model_repo=openmmlab --opset_version=13 --model_input_name=images --model_output_name=outputs",
                "children": []
              }
            ]
          },
          {
            "heading": "Furiosa Quantization",
            "text": "Convert f32 onnx model to i8 onnx model using\nfuriosa.quantinizer\n. This involves a process for cutting off the post-processing elements.",
            "children": [
              {
                "heading": "Example for ultralytics",
                "text": "python furiosa_quantize.py --onnx_path=./yolov5s.onnx --model_repo=ultralytics --dfg_path=./yolov5s.dfg --opset_version=13 --calib_data=./coco/val2017 --calib_count=10 --model_input_name=images",
                "children": []
              },
              {
                "heading": "Example for openmmlab",
                "text": "python furiosa_quantize.py --onnx_path=./yolov5s.onnx --model_repo=openmmlab --dfg_path=./yolov5s.dfg --opset_version=13 --calib_data=./coco/val2017 --calib_count=10 --model_input_name=images\n#\nArgument\npython furiosa_quantize.py -h\n  --onnx_path ONNX_PATH\n                        Path to onnx file\n  --model_repo MODEL_REPO\n                        repository = [ultralytics, openmmlab]\n  --dfg_path DFG_PATH   Path to i8 onnx file\n  --opset_version OPSET_VERSION\n                        the ONNX version to\nexport\nthe model to\n  --calib_data CALIB_DATA\n                        Path to calibration data containing image files\n  --calib_count CALIB_COUNT\n                        How many images to use\nfor\ncalibration\n  --model_input_name MODEL_INPUT_NAME\n                        the model\n'\ns input name",
                "children": []
              }
            ]
          },
          {
            "heading": "Run",
            "text": "Create a session using the quantized model obtained from\nfuriosa_quantize.py\n. Use the sessions you create to make inferences on your test data set.",
            "children": [
              {
                "heading": "Example",
                "text": "python furiosa_eval.py --dfg_path=./yolov5s.dfg --eval_data_path=./coco/val2017 --eval_count=10 --output_path=./output\n#\nArgument\npython furiosa_eval.py -h\n  --dfg_path DFG_PATH   Path to dfg file\n  --eval_data_path EVAL_DATA_PATH\n                        Path to evaluation data containing image files\n  --eval_count EVAL_COUNT\n                        How many images to use\nfor\nevaluation\n  --output_path OUTPUT_PATH\n                        Path to result image\n  ...",
                "children": []
              }
            ]
          }
        ]
      }
    ]
  },
  "metadata": {
    "description": null,
    "license": null,
    "stars": 1,
    "forks": 0,
    "topics": [],
    "last_updated": "2025-11-14T00:40:58.751409Z"
  }
}